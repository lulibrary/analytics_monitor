<html>
<head>
    <meta http-equiv="refresh" content="30">
    <script type="text/javascript"
            src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
        google.load("visualization", "1.1",
                {packages: ["corechart", "line", "calendar",
                    "gauge", "scatter", "table"]});
        google.setOnLoadCallback(drawChartCalendar);
        google.setOnLoadCallback(drawChartAvg);
        google.setOnLoadCallback(drawChartMode);
        google.setOnLoadCallback(drawChartMaxMin);
        google.setOnLoadCallback(drawChartGauge);
        google.setOnLoadCallback(drawChartOutTable);

        function drawChartCalendar() {
            var dataTable = new google.visualization.DataTable();
            dataTable.addColumn({type: 'date', id: 'Date'});
            dataTable.addColumn({type: 'number', id: 'Hours up'});
            dataTable.addRows([
                //DATA1
            ]);
            var chart = new google.visualization.Calendar(
                    document.getElementById('chart_calendar'));
            var options = {
                title: "Alma Analytics Availability - " +
                    "//INSTITUTION - //ALMA_INSTANCE",
                calendar: {
                    cellSize: 16
                },
                backgroundColor: "//BG_COLOUR"
            };
            chart.draw(dataTable, options);
        }

        function drawChartAvg() {
            var dataTable = new google.visualization.DataTable();
            dataTable.addColumn('date', 'Date');
            dataTable.addColumn('number', 'Average');
            dataTable.addColumn('number', 'Median\n(Middle)');
            dataTable.addRows([
                //DATA2
            ]);
            var chart = new google.visualization.LineChart(
                    document.getElementById('chart_average'));
            var options = {
                title: "Alma Analytics Response Time - Average & Median " +
                    "- //INSTITUTION - //ALMA_INSTANCE",
                height: 400,
                curveType: 'function',
                hAxis: {format: 'MM-yy'},
                backgroundColor: "//BG_COLOUR",
                trendlines: {
                    0: {
                        type: 'polynomial',
                        color: 'green',
                        lineWidth: 3,
                        opacity: 0.5,
                        labelInLegend: 'Avg. Trend',
                        visibleInLegend: true
                    }
                }
            };
            chart.draw(dataTable, options);
        }

        function drawChartMode() {
            var dataTable = new google.visualization.DataTable();
            dataTable.addColumn('date', 'Date');
            dataTable.addColumn('number', 'Mode\n(Most likely)');
            dataTable.addRows([
                //DATA3
            ]);
            var chart = new google.visualization.LineChart(
                    document.getElementById('chart_mode'));
            var options = {
                title: "Alma Analytics Response Time - Mode - " +
                    "//INSTITUTION - //ALMA_INSTANCE",
                height: 400,
                curveType: 'function',
                hAxis: {format: 'MM-yy'},
                backgroundColor: "//BG_COLOUR",
                trendlines: {
                    0: {
                        type: 'polynomial',
                        color: 'green',
                        lineWidth: 3,
                        opacity: 0.5,
                        labelInLegend: 'Mode Trend',
                        visibleInLegend: true
                    }
                }
            };
            chart.draw(dataTable, options);
        }

        function drawChartMaxMin() {
            var dataTable = new google.visualization.DataTable();
            dataTable.addColumn('date', 'Date');
            dataTable.addColumn('number', 'Max');
            dataTable.addColumn('number', 'Min');
            dataTable.addRows([
                //DATA4
            ]);
            var chart = new google.visualization.LineChart(
                    document.getElementById('chart_max_min'));
            var options = {
                title: "Alma Analytics Response Time Max/Min - " +
                    "//INSTITUTION - //ALMA_INSTANCE",
                height: 400,
                curveType: 'function',
                hAxis: {format: 'MM-yy'},
                vAxis: {minValue: 0, viewWindow: {min:0 }},
                backgroundColor: "//BG_COLOUR",
                trendlines: {
                    0: {
                        type: 'polynomial',
                        color: 'green',
                        lineWidth: 3,
                        opacity: 0.5,
                        labelInLegend: 'Max Trend',
                        visibleInLegend: true
                    }
                }
            };
            chart.draw(dataTable, options);
        }

        function drawChartGauge() {
            var data = google.visualization.arrayToDataTable([
                ['Label', 'Value'],
                ['Response', //AA_RESPONSE
                ]
            ]);
            var options = {
                width: 140, height: 140,
                redFrom: 8, redTo: 10,
                yellowFrom: 6, yellowTo: 8,
                minorTicks: 10,
                max: 10, min: 0,
                backgroundColor: "//BG_COLOUR"
            };
            var chart = new google.visualization.Gauge(
                    document.getElementById('chart_gauge'));
            chart.draw(data, options);
        }

        function drawChartOutTable() {
            var data = new google.visualization.DataTable();
            data.addColumn('datetime', 'Start');
            data.addColumn('datetime', 'End');
            data.addColumn('number', 'Length');
            data.addRows([
                //DATA7
            ]);

            var table = new google.visualization.Table(
                    document.getElementById('chart_outage_table'));
            var formatter = new google.visualization.DateFormat(
                    {pattern: 'dd/MM/yyyy HH:mm:ss - EEEE'});
            formatter.format(data, 0);
            formatter.format(data, 1);
            table.draw(data, {
                //sort: 'enabled',
                sortAscending: false,
                sortColumn: 0,
                allowHtml: true,
                showRowNumber: true,
                width: '75%',
                alternatingRowStyle: true
            });
        }
    </script>
</head>
<body bgcolor="//BG_COLOUR">

<style>
    .google-visualization-table-th {
        text-align: left !important;
        background-color: whitesmoke;
        font-size: 15px;
        border: solid;
        border-bottom-color: darkgreen !important;
    }
    .google-visualization-table-td {
        text-align: left !important;
        font-size: 15px;
    }
</style>

<section style="position: relative; width:95%; height: 140px;
    margin: auto; padding: 5px;">
    <div style="float: left; width:20%; height: 140px; margin-top: 50px;">
        <a href="//LOGO_LINK_URI">
            <img style="width: 140%;"
                 src="//LOGO_IMG_URI">
        </a>
    </div>
    <div style=" width: 65%; float: left; height: 140px;
        font-family: sans-serif; margin-top: 15px;">
        <h1 style="text-align: center">
            Alma Analytics - //INSTITUTION - //ALMA_INSTANCE -
            is //AA_STATE</h1>
        <h4 style="text-align: center;">//CURRENT_DT</h4>
    </div>
    <div id="chart_gauge"
         style="float: right; width: 15%; height: 140px"></div>
</section>

<div id="chart_calendar" style="width: 980px; height: auto;
    overflow: hidden; margin-top: 45px; margin-left: auto;
    margin-right: auto;"></div>
<div id="chart_average" style="width: 100%; height: 350px;"></div>
<div id="chart_mode" style="width: 100%; height: 350px;"></div>
<div id="chart_max_min" style="width: 100%; height: 350px;"></div>
<div align="center">
    <h5 style="margin-top: 60px; font-family: sans-serif; font-size: 16px;">
        Outages - //INSTITUTION - //ALMA_INSTANCE (>= //OUTMINS minutes),
        including scheduled maintenance.
    </h5>
    <div id="chart_outage_table" style="display: block; margin: 0 auto;
        width: 100%; height: 500px;"></div>
</div>
</body>
</html>